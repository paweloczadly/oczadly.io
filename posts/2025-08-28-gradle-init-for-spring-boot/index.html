<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>gradle init for Spring Boot - oczadly.io - production-ready tooling. Clean solutions.</title><meta name=Description content="Production-ready Gradle plugin inspired by DPE University courses."><meta property="og:url" content="https://oczadly.io/posts/2025-08-28-gradle-init-for-spring-boot/">
<meta property="og:site_name" content="oczadly.io - production-ready tooling. Clean solutions."><meta property="og:title" content="gradle init for Spring Boot"><meta property="og:description" content="Production-ready Gradle plugin inspired by DPE University courses."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-08-28T00:00:00+00:00"><meta property="article:modified_time" content="2025-08-28T00:00:00+00:00"><meta property="og:image" content="https://oczadly.io/posts/2025-08-28-gradle-init-for-spring-boot/featured-image.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://oczadly.io/posts/2025-08-28-gradle-init-for-spring-boot/featured-image.png"><meta name=twitter:title content="gradle init for Spring Boot"><meta name=twitter:description content="Production-ready Gradle plugin inspired by DPE University courses."><meta name=application-name content="My cool site"><meta name=apple-mobile-web-app-title content="My cool site"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://oczadly.io/posts/2025-08-28-gradle-init-for-spring-boot/><link rel=prev href=https://oczadly.io/posts/2025-07-05-starting-oczadly-io/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"gradle init for Spring Boot","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/oczadly.io\/posts\/2025-08-28-gradle-init-for-spring-boot\/"},"image":[{"@type":"ImageObject","url":"https:\/\/oczadly.io\/posts\/2025-08-28-gradle-init-for-spring-boot\/featured-image.png","width":1536,"height":1024}],"genre":"posts","wordcount":2962,"url":"https:\/\/oczadly.io\/posts\/2025-08-28-gradle-init-for-spring-boot\/","datePublished":"2025-08-28T00:00:00+00:00","dateModified":"2025-08-28T00:00:00+00:00","publisher":{"@type":"Organization","name":"xxxx","logo":{"@type":"ImageObject","url":"https:\/\/oczadly.io\/images\/logo-male.png","width":390,"height":376}},"author":{"@type":"Person","name":"Paweł Oczadły"},"description":"Production-ready Gradle plugin inspired by DPE University courses."}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="oczadly.io - production-ready tooling. Clean solutions."><span class=header-title-pre><text class=logo><span class=oczadly>oczadly</span><span class=dot-io>.io</span></text></span></a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/about/>About </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="menu-item language" title="Select Language"><i class="fa fa-globe fa-fw" aria-hidden=true></i>
<select class=language-select id=language-select-desktop onchange="location=this.value"><option value=/posts/2025-08-28-gradle-init-for-spring-boot/ selected>English</option><option value=/pl/posts/2025-08-28-gradle-init-for-spring-boot/>Polski</option></select></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="oczadly.io - production-ready tooling. Clean solutions."><span class=header-title-pre><text class=logo><span class=oczadly>oczadly</span><span class=dot-io>.io</span></text></span></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/ title>Posts</a><a class=menu-item href=/about/ title>About</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class=menu-item title="Select Language"><i class="fa fa-globe fa-fw" aria-hidden=true></i>
<select class=language-select onchange="location=this.value"><option value=/posts/2025-08-28-gradle-init-for-spring-boot/ selected>English</option><option value=/pl/posts/2025-08-28-gradle-init-for-spring-boot/>Polski</option></select></a></div></div></header><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">gradle init for Spring Boot</h1><h2 class=single-subtitle>Production-ready Gradle plugin inspired by DPE University courses.</h2><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Paweł Oczadły</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2025-08-28>2025-08-28</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;2962 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;14 minutes&nbsp;</div></div><div class=featured-image><img class=lazyload src=/svg/loading.min.svg data-src=/posts/2025-08-28-gradle-init-for-spring-boot/featured-image.png data-srcset="/posts/2025-08-28-gradle-init-for-spring-boot/featured-image.png, /posts/2025-08-28-gradle-init-for-spring-boot/featured-image.png 1.5x, /posts/2025-08-28-gradle-init-for-spring-boot/featured-image.png 2x" data-sizes=auto alt=/posts/2025-08-28-gradle-init-for-spring-boot/featured-image.png title="Production-ready Gradle plugin inspired by DPE University courses."></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#why-yet-another-gradle-plugin>Why yet another Gradle plugin</a></li><li><a href=#who-is-this-plugin-for>Who is this plugin for</a></li><li><a href=#how-it-works>How it works</a></li><li><a href=#how-its-built>How it’s built</a><ul><li><a href=#pluginproperties><code>plugin.properties</code></a></li><li><a href=#convention-clean-plugin-configuration><code>convention</code>: clean plugin configuration</a></li><li><a href=#extracting-available-options-from-metadata-api>Extracting available options from Metadata API</a></li><li><a href=#-p-parameters-and-validation-mechanism><code>-P</code> parameters and validation mechanism</a></li><li><a href=#incremental-build-and-build-cache>Incremental build and build cache</a></li><li><a href=#interactive-mode>Interactive mode</a></li></ul></li><li><a href=#production-readiness>Production readiness</a><ul><li><a href=#unit-tests>Unit tests</a></li><li><a href=#functional-tests>Functional tests</a></li><li><a href=#static-code-analysis>Static code analysis</a></li><li><a href=#test-coverage>Test coverage</a></li><li><a href=#continuous-integration>Continuous integration</a></li><li><a href=#build-scan>Build Scan</a></li><li><a href=#compatibility-tests>Compatibility tests</a></li><li><a href=#continuous-delivery>Continuous delivery</a></li></ul></li><li><a href=#summary>Summary</a></li></ul></nav></div></div><div class=content id=content><h2 id=why-yet-another-gradle-plugin>Why yet another Gradle plugin</h2><p>Recently, I wanted to deepen my understanding of <a href=https://docs.gradle.org/9.0.0/userguide/build_scans.html target=_blank rel="noopener noreffer">Build Scans</a>, <a href=https://gradle.com/develocity/ target=_blank rel="noopener noreffer">Develocity</a>, and their practical applications, so I started going through the courses on our <a href=https://dpeuniversity.gradle.com/app/catalog target=_blank rel="noopener noreffer">DPE University</a> platform. In my daily work, I interact with <a href=https://gradle.com/develocity/ target=_blank rel="noopener noreffer">Develocity</a> from the operational and production side — maintaining <a href=https://github.com/gradle/develocity-oss-projects target=_blank rel="noopener noreffer">open-source instances</a> among other things — so I wanted to better understand the product, especially from the end-user perspective, to support my daily engineering work.</p><p>To systematize what I was learning, I decided to build a project that aligns with the best practices discussed in these courses. At the same time, I was working on a <a href=https://spring.io/projects/spring-boot target=_blank rel="noopener noreffer">Spring Boot</a> microservice generated via <a href=https://start.spring.io target=_blank rel="noopener noreffer">Spring Initializr</a> and noticed there was no <a href=https://docs.gradle.org/9.0.0/userguide/plugins.html target=_blank rel="noopener noreffer">Gradle plugin</a> that would automate this process in a way that is build cache-friendly and CI/CD-friendly.</p><p>That’s how the <a href=https://plugins.gradle.org/plugin/io.oczadly.springinitializr target=_blank rel="noopener noreffer">gradle-springinitializr-plugin</a> was born—a production-ready tool that simplifies bootstrapping <a href=https://spring.io/projects/spring-boot target=_blank rel="noopener noreffer">Spring Boot</a> projects directly from <a href=https://gradle.org/ target=_blank rel="noopener noreffer">Gradle</a>. This post covers how it was built, how it works, and how you can use it to speed up starting new projects within your team.</p><div class="details admonition example open"><div class="details-summary admonition-title"><i class="icon fas fa-list-ol fa-fw" aria-hidden=true></i>Quick start<i class="details-icon fas fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content><p>The plugin is open-source and available on the <a href=https://plugins.gradle.org/plugin/io.oczadly.springinitializr target=_blank rel="noopener noreffer">Gradle - Plugins</a>. You can install and start using it right away.</p><p>Create the <code>build.gradle</code> file and add the following:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-groovy data-lang=groovy><span class=line><span class=cl><span class=n>plugins</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>id</span> <span class=s1>&#39;io.oczadly.springinitializr&#39;</span> <span class=n>version</span> <span class=s1>&#39;1.0.0&#39;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Create the <code>settings.gradle</code> file and add this configuration:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-groovy data-lang=groovy><span class=line><span class=cl><span class=n>rootProject</span><span class=o>.</span><span class=na>name</span> <span class=o>=</span> <span class=s1>&#39;examples-simple-groovy&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p>Or add it to your existing project.</p><p>This way, you can generate new <a href=https://spring.io/projects/spring-boot target=_blank rel="noopener noreffer">Spring Boot</a> projects with <a href=https://gradle.org/ target=_blank rel="noopener noreffer">Gradle</a> while reading this post, accelerating your onboarding and daily work.</p><p>👉 <a href=https://plugins.gradle.org/plugin/io.oczadly.springinitializr target=_blank rel="noopener noreffer">Gradle - Plugins</a></p><p>👉 <a href=https://github.com/paweloczadly/gradle-springinitializr-plugin target=_blank rel="noopener noreffer">GitHub</a></p></div></div></div><p>I treat this plugin as a reference: how to build a production-ready plugin in <a href=https://groovy-lang.org/ target=_blank rel="noopener noreffer">Groovy</a> consistent with <a href=https://docs.gradle.org/9.0.0/userguide/best_practices_general.html target=_blank rel="noopener noreffer">Gradle best practices</a>. If you build plugins yourself, you can use it as a point of reference.</p><hr><h2 id=who-is-this-plugin-for>Who is this plugin for</h2><p><strong>Platform Engineers</strong></p><p><a href=https://plugins.gradle.org/plugin/io.oczadly.springinitializr target=_blank rel="noopener noreffer">gradle-springinitializr-plugin</a> can become a part of your platform to accelerate microservice scaffolding across your organization. With it, you can:</p><p>✅ Quickly generate <a href=https://spring.io/projects/spring-boot target=_blank rel="noopener noreffer">Spring Boot</a> microservices (<a href=https://groovy-lang.org/ target=_blank rel="noopener noreffer">Groovy</a>/<a href=https://www.java.com/ target=_blank rel="noopener noreffer">Java</a>/<a href=https://kotlinlang.org/ target=_blank rel="noopener noreffer">Kotlin</a>, <a href=https://gradle.org/ target=_blank rel="noopener noreffer">Gradle</a>/<a href=https://maven.apache.org/ target=_blank rel="noopener noreffer">Maven</a>) from CLI, pipelines, or automated <a href=https://www.gitops.tech/ target=_blank rel="noopener noreffer">GitOps</a> processes.</p><p>✅ Always generate projects with the latest <a href=https://spring.io/projects/spring-boot target=_blank rel="noopener noreffer">Spring Boot</a>, <a href=https://www.java.com/ target=_blank rel="noopener noreffer">Java</a>, and dependency versions, eliminating the need to manually maintain templates.</p><p>✅ Provide a build cache-aware, CI-friendly workflow from day one of your projects.</p><p>✅ Standardize project structure, metadata (groupId, artifactId, packageName, description), and the microservice creation process.</p><p>If you are building an engineering platform for JVM-based developer teams, this plugin can become a lightweight, configurable, and automatable pipeline element for &ldquo;just-in-time&rdquo; scaffolding of <a href=https://spring.io/projects/spring-boot target=_blank rel="noopener noreffer">Spring Boot</a> projects.</p><p><strong>Software Engineers</strong></p><p><a href=https://plugins.gradle.org/plugin/io.oczadly.springinitializr target=_blank rel="noopener noreffer">gradle-springinitializr-plugin</a> can become your go-to tool for quickly starting <a href=https://spring.io/projects/spring-boot target=_blank rel="noopener noreffer">Spring Boot</a> projects without leaving the <a href=https://gradle.org/ target=_blank rel="noopener noreffer">Gradle</a> ecosystem.
Instead of clicking through the <a href=https://start.spring.io target=_blank rel="noopener noreffer">Spring Initializr</a> web UI or writing curl commands, you can generate a fully customizable project with a single <a href=https://gradle.org/ target=_blank rel="noopener noreffer">Gradle</a> command.
It saves time, ensures consistent configurations, and integrates immediately into your build cache, CI/CD, and team conventions.</p><p><strong>The Curious and Mindful</strong></p><p><a href=https://plugins.gradle.org/plugin/io.oczadly.springinitializr target=_blank rel="noopener noreffer">gradle-springinitializr-plugin</a> lets you see how <a href=https://spring.io/projects/spring-boot target=_blank rel="noopener noreffer">Spring Boot</a> project generation from <a href=https://gradle.org/ target=_blank rel="noopener noreffer">Gradle</a> works in under a minute, without clicking around <a href=https://start.spring.io target=_blank rel="noopener noreffer">https://start.spring.io</a> or writing curl commands. Instead of manually downloading ZIP files, you can instantly start a project locally and explore <a href=https://spring.io/projects/spring-boot target=_blank rel="noopener noreffer">Spring Boot</a> in a repeatable, clean, and user-friendly way.</p><hr><h2 id=how-it-works>How it works</h2><p>After installing the <a href=https://plugins.gradle.org/plugin/io.oczadly.springinitializr target=_blank rel="noopener noreffer">gradle-springinitializr-plugin</a>, you can generate <a href=https://spring.io/projects/spring-boot target=_blank rel="noopener noreffer">Spring Boot</a> projects directly from <a href=https://gradle.org/ target=_blank rel="noopener noreffer">Gradle</a> without leaving your terminal.</p><p>The plugin provides a single task <code>initSpringBootProject</code>, which downloads a project from <a href=https://start.spring.io target=_blank rel="noopener noreffer">Spring Initializr</a> and extracts it. Instead of clicking in the web interface, simply run:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>gradle initSpringBootProject
</span></span></code></pre></td></tr></table></div></div><p>You will get:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>&gt; Task :initSpringBootProject
</span></span><span class=line><span class=cl>Downloading Spring Boot starter project...
</span></span><span class=line><span class=cl>Project downloaded to: /opt/my-projects/build/generated-project/starter.zip
</span></span><span class=line><span class=cl>Project extracted to: /opt/my-projects/build/generated-project/demo
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>BUILD SUCCESSFUL in 1s
</span></span></code></pre></td></tr></table></div></div><p>By default the project will be downloaded and extracted into <code>build/generated-project/demo</code>, ready to open and run.</p><p>The plugin also allows you to set any parameter available in <a href=https://start.spring.io target=_blank rel="noopener noreffer">Spring Initializr</a>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>gradle initSpringBootProject <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    -PprojectType<span class=o>=</span><span class=s2>&#34;gradle-project-kotlin&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    -Planguage<span class=o>=</span><span class=s2>&#34;kotlin&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    -PgroupId<span class=o>=</span><span class=s2>&#34;com.mycompany&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    -PartifactId<span class=o>=</span><span class=s2>&#34;my-spring-app&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    -PprojectName<span class=o>=</span><span class=s2>&#34;My Spring App&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    -PprojectDescription<span class=o>=</span><span class=s2>&#34;My Spring Boot application generated via gradle-springinitializr-plugin&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    -PpackageName<span class=o>=</span><span class=s2>&#34;com.mycompany.myspringapp&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    -Ppackaging<span class=o>=</span><span class=s2>&#34;war&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    -PjavaVersion<span class=o>=</span><span class=s2>&#34;21&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    -Pdependencies<span class=o>=</span><span class=s2>&#34;web,actuator&#34;</span>
</span></span><span class=line><span class=cl>    -PoutputDir<span class=o>=</span><span class=s2>&#34;/opt/my-projects/my-spring-boot-app&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>This way you generate clean, consistent projects ready for your CI/CD workflow and aligned with team conventions – without manual steps.</p><p>The plugin also supports an experimental interactive mode inspired by <code>gradle init</code>:</p><p><figure><a class=lightgallery href=https://raw.githubusercontent.com/paweloczadly/gradle-springinitializr-plugin/refs/tags/v1.0.0/docs/images/demo.gif title="gradle init dla Spring Boot" data-thumbnail=https://raw.githubusercontent.com/paweloczadly/gradle-springinitializr-plugin/refs/tags/v1.0.0/docs/images/demo.gif data-sub-html="<h2>gradle init for Spring Boot</h2><p>gradle init dla Spring Boot</p>"><img class=lazyload src=/svg/loading.min.svg data-src=https://raw.githubusercontent.com/paweloczadly/gradle-springinitializr-plugin/refs/tags/v1.0.0/docs/images/demo.gif data-srcset="https://raw.githubusercontent.com/paweloczadly/gradle-springinitializr-plugin/refs/tags/v1.0.0/docs/images/demo.gif, https://raw.githubusercontent.com/paweloczadly/gradle-springinitializr-plugin/refs/tags/v1.0.0/docs/images/demo.gif 1.5x, https://raw.githubusercontent.com/paweloczadly/gradle-springinitializr-plugin/refs/tags/v1.0.0/docs/images/demo.gif 2x" data-sizes=auto alt=https://raw.githubusercontent.com/paweloczadly/gradle-springinitializr-plugin/refs/tags/v1.0.0/docs/images/demo.gif></a><figcaption class=image-caption>gradle init for Spring Boot</figcaption></figure></p><p>This allows you to enter all project parameters without remembering command line flags – the plugin guides you step by step through choosing <a href=https://spring.io/projects/spring-boot target=_blank rel="noopener noreffer">Spring Boot</a> version, language, project type, and dependencies. It’s particularly useful for new team members or when you want to quickly prepare a project aligned with your organization’s standards.</p><div class="details admonition warning open"><div class="details-summary admonition-title"><i class="icon fas fa-exclamation-triangle fa-fw" aria-hidden=true></i>WARNING<i class="details-icon fas fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>Interactive mode is still experimental — great for learning and quick start. In CI/CD pipelines I recommend explicit -P flags.</div></div></div><p>To use interactive mode, follow the instructions in the <a href=https://github.com/paweloczadly/gradle-springinitializr-plugin/blob/v1.0.0/FAQ.md#is-interactive-mode-supported target=_blank rel="noopener noreffer">FAQ</a>.</p><hr><h2 id=how-its-built>How it’s built</h2><p>As mentioned earlier, besides using knowledge from <a href=https://dpeuniversity.gradle.com/app/catalog target=_blank rel="noopener noreffer">DPE University</a>, I wanted this plugin to be a <strong>reference implementation</strong> for building further plugins. My goal was to create something solid, nearly maintenance-free, and as timeless as possible.</p><h3 id=pluginproperties><code>plugin.properties</code></h3><p>The heart of the plugin is the <code>plugin.properties</code> file, which contains default parameter values. This supports the principle of <em>separating code and configuration</em> - changes to values do not require code modification or recompilation, just file replacement.</p><p>Properties are loaded once at plugin startup and available through static constants:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-groovy data-lang=groovy><span class=line><span class=cl><span class=n>PluginConfig</span><span class=o>.</span><span class=na>getOrThrow</span><span class=o>(</span><span class=n>PluginConstants</span><span class=o>.</span><span class=na>PLUGIN_ID</span><span class=o>)</span>
</span></span></code></pre></td></tr></table></div></div><p>This approach simplifies both production and test configuration – giving full control over the environment without changes to plugin logic.</p><div class="details admonition success open"><div class="details-summary admonition-title"><i class="icon fas fa-check-circle fa-fw" aria-hidden=true></i>Lessons from functional tests<i class="details-icon fas fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content><p>For <code>plugin.properties</code> to be visible in functional tests as a resource, add to <code>build.gradle</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-groovy data-lang=groovy><span class=line><span class=cl><span class=n>sourceSets</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>functionalTest</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>resources</span><span class=o>.</span><span class=na>srcDir</span> <span class=nf>file</span><span class=o>(</span><span class=s1>&#39;src/main/resources&#39;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>This way functional tests use exactly the same configuration as the production plugin.</p></div></div></div><h3 id=convention-clean-plugin-configuration><code>convention</code>: clean plugin configuration</h3><p>Options such as <code>initializrUrl</code>, <code>metadataEndpoint</code> and <code>extract</code> are designed as <strong>global plugin configuration</strong> – they concern the source of data (<em>where</em> to fetch the project from), not the project content itself (<em>what</em> it should include). This keeps separation between infrastructural configuration and actual generation logic.</p><p>Default values are set using <a href=https://docs.gradle.org/9.0.0/userguide/lazy_configuration.html#applying_conventions target=_blank rel="noopener noreffer"><code>convention(...)</code></a> in <a href=https://gradle.org target=_blank rel="noopener noreffer">Gradle</a> - which means:</p><ul><li>the user <em>does not have to set anything</em> to use the plugin in default mode,</li><li>but <em>can override</em> any value in build.gradle, for example to use their own <a href=https://start.spring.io target=_blank rel="noopener noreffer">Spring Initializr</a> instance or disable ZIP extraction:</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-groovy data-lang=groovy><span class=line><span class=cl><span class=n>plugins</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>id</span> <span class=s1>&#39;io.oczadly.springinitializr&#39;</span> <span class=n>version</span> <span class=s1>&#39;1.0.0&#39;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>tasks</span><span class=o>.</span><span class=na>named</span><span class=o>(</span><span class=s1>&#39;initSpringBootProject&#39;</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>initializrUrl</span> <span class=o>=</span> <span class=s1>&#39;https://your-initializr.example.com&#39;</span>
</span></span><span class=line><span class=cl>    <span class=n>metadataEndpoint</span> <span class=o>=</span> <span class=s1>&#39;/yours&#39;</span>
</span></span><span class=line><span class=cl>    <span class=n>extract</span> <span class=o>=</span> <span class=s1>&#39;false&#39;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>This approach provides:</p><ul><li><strong>clean builds</strong> – no mixing of configuration with invocation parameters.</li><li><strong>predictability</strong> – the plugin always works on explicitly defined inputs.</li><li><strong>flexibility</strong> – the user can point to a custom endpoint, e.g. in CI or a mirror.</li></ul><p>See <a href=https://docs.gradle.org/9.0.0/userguide/lazy_configuration.html#applying_conventions target=_blank rel="noopener noreffer">official Gradle documentation on <code>convention(...)</code></a> for more details on setting clear, overridable defaults in your plugins and tasks.</p><h3 id=extracting-available-options-from-metadata-api>Extracting available options from Metadata API</h3><p>The plugin fetches supported versions of <a href=https://spring.io/projects/spring-boot target=_blank rel="noopener noreffer">Spring Boot</a>, project types, and languages available after downloading from <a href=https://start.spring.io target=_blank rel="noopener noreffer">Spring Initializr</a>. This is done via the <a href=https://docs.spring.io/initializr/docs/current/reference/html/#project-metadata target=_blank rel="noopener noreffer">Metadata endpoint</a>. Thanks to this, there is no need to constantly update the plugin for supported parameters.</p><p>While adding supported project types and languages I encountered an interesting issue with <a href=https://docs.gradle.org/9.0.0/userguide/configuration_cache.html target=_blank rel="noopener noreffer">configuration cache</a> in <a href=https://gradle.org/ target=_blank rel="noopener noreffer">Gradle</a>. More on this below.</p><div class="details admonition success open"><div class="details-summary admonition-title"><i class="icon fas fa-check-circle fa-fw" aria-hidden=true></i>Lessons from using –configuration-cache<i class="details-icon fas fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content><p>At first I ran into problems testing the plugin with the <code>--configuration-cache</code> flag. Initially I thought the issue was reading <code>plugin.properties</code>, but the real cause was using the <code>project.*</code> API in the class extending <code>DefaultTask</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-groovy data-lang=groovy><span class=line><span class=cl><span class=kn>package</span> <span class=n>io</span><span class=o>.</span><span class=na>oczadly</span><span class=o>.</span><span class=na>tasks</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>abstract</span> <span class=kd>class</span> <span class=nc>InitSpringBootProjectTask</span> <span class=kd>extends</span> <span class=n>DefaultTask</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Internal</span>
</span></span><span class=line><span class=cl>  <span class=kd>final</span> <span class=n>ListProperty</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span> <span class=n>supportedProjectTypes</span> <span class=o>=</span> <span class=n>project</span><span class=o>.</span><span class=na>objects</span><span class=o>.</span><span class=na>listProperty</span> <span class=n>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Internal</span>
</span></span><span class=line><span class=cl>  <span class=kd>final</span> <span class=n>ListProperty</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span> <span class=n>supportedLanguages</span> <span class=o>=</span> <span class=n>project</span><span class=o>.</span><span class=na>objects</span><span class=o>.</span><span class=na>listProperty</span> <span class=n>String</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@TaskAction</span>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=nf>download</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=cm>/* Remaining code omitted for clarity */</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><p>This breaks <a href=https://docs.gradle.org/9.0.0/userguide/configuration_cache.html target=_blank rel="noopener noreffer">configuration cache</a>, because <a href=https://gradle.org/ target=_blank rel="noopener noreffer">Gradle</a> requires all inputs to be explicitly declared using <code>Property&lt;T></code>, <code>Provider&lt;T></code> or <code>DirectoryProperty</code>. Then during execution phase you cannot refer to mutable project state.</p><p>I solved this by:</p><ul><li><i class="far fa-check-square fa-fw" aria-hidden=true></i> Moving all logic of fetching supported project types and languages into the download() method.</li><li><i class="far fa-check-square fa-fw" aria-hidden=true></i> Ensuring that <code>@TaskAction</code> operates only on properties declared as <code>Property&lt;T></code> or <code>Provider&lt;T></code>, evaluated at execution time.</li></ul><p>This change not only enabled <a href=https://docs.gradle.org/9.0.0/userguide/configuration_cache.html target=_blank rel="noopener noreffer">configuration cache</a> compatibility, but also led to a cleaner, more idiomatic implementation aligned with <a href=https://gradle.org/ target=_blank rel="noopener noreffer">Gradle</a> practices.</p><p>See <a href=https://docs.gradle.org/9.0.0/userguide/configuration_cache.html target=_blank rel="noopener noreffer">official Gradle documentation on configuration cache</a> for all details and limitations.</p></div></div></div><h3 id=-p-parameters-and-validation-mechanism><code>-P</code> parameters and validation mechanism</h3><p>The plugin accepts all parameters available at <a href=https://start.spring.io target=_blank rel="noopener noreffer">https://start.spring.io</a> — the same ones you can set in the web UI of <a href=https://start.spring.io target=_blank rel="noopener noreffer">Spring Initializr</a>.</p><p>After users set parameters or default values are assigned, validation is performed inside the <code>initSpringBootProject</code> task. At the beginning, the task fetches the list of supported <a href=https://spring.io/projects/spring-boot target=_blank rel="noopener noreffer">Spring Boot</a> versions, project types, and languages from the <a href=https://docs.spring.io/initializr/docs/current/reference/html/#project-metadata target=_blank rel="noopener noreffer">Metadata endpoint</a>. If a user provides an invalid parameter value that is not supported, the task will fail. For example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>gradle initSpringBootProject -Planguage<span class=o>=</span>clojure
</span></span></code></pre></td></tr></table></div></div><p>Will result in the message:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>&gt; Task :initSpringBootProject FAILED
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>FAILURE: Build failed with an exception.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>* What went wrong:
</span></span><span class=line><span class=cl>Execution failed for task &#39;:initSpringBootProject&#39;.
</span></span><span class=line><span class=cl>&gt; Unsupported language: &#39;clojure&#39;. Supported: java, kotlin, groovy.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>* Try:
</span></span><span class=line><span class=cl>&gt; Run with --stacktrace option to get the stack trace.
</span></span><span class=line><span class=cl>&gt; Run with --info or --debug option to get more log output.
</span></span><span class=line><span class=cl>&gt; Run with --scan to get full insights.
</span></span><span class=line><span class=cl>&gt; Get more help at https://help.gradle.org.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>BUILD FAILED in 5s
</span></span></code></pre></td></tr></table></div></div><h3 id=incremental-build-and-build-cache>Incremental build and build cache</h3><p>Based on the <a href=https://dpeuniversity.gradle.com/app/learning_paths/b82f8dd7-d61e-450f-820e-3e719ef70bee target=_blank rel="noopener noreffer">Gradle Build Caching path</a> at <a href=https://dpeuniversity.gradle.com/app/catalog target=_blank rel="noopener noreffer">DPE University</a> and the knowledge gained there, the plugin was given support for <a href=https://docs.gradle.org/9.0.0/userguide/incremental_build.html target=_blank rel="noopener noreffer">incremental build</a> and <a href=https://docs.gradle.org/9.0.0/userguide/build_cache.html target=_blank rel="noopener noreffer">Build Cache</a>. Thanks to this, subsequent executions are instant, and results can be reused.</p><p>The <code>initSpringBootProject</code> task declares both inputs (<code>@Input</code>) and outputs (<code>@OutputDirectory</code> — in this case <code>outputDir</code>, tied to a <code>DirectoryProperty</code>). This is aligned with the definition of a correctly configured task in <a href=https://gradle.org target=_blank rel="noopener noreffer">Gradle</a>, described here.</p><p>Thanks to this, <a href=https://gradle.org target=_blank rel="noopener noreffer">Gradle</a> has full control over tracking the state of inputs and outputs, which enables:</p><ul><li>Skipping the task (<code>UP-TO-DATE</code>) if the outputs have not changed — incremental build.</li><li>Restoring results (<code>FROM-CACHE</code>) if outputs exist in the local cache — build cache.</li></ul><p>Below is an example of how the task behaves in both cases.</p><h4 id=incremental-build>Incremental build</h4><p>On the first run, the project is downloaded from <a href=https://start.spring.io target=_blank rel="noopener noreffer">Spring Initializr</a>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>gradle initSpringBootProject -PoutputDir<span class=o>=</span>/opt/my-projects/my-spring-boot-app --console<span class=o>=</span>plain --info
</span></span></code></pre></td></tr></table></div></div><p>You will see:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Task name matched &#39;initSpringBootProject&#39;
</span></span><span class=line><span class=cl>Selected primary task &#39;initSpringBootProject&#39; from project :
</span></span><span class=line><span class=cl>Tasks to be executed: [task &#39;:initSpringBootProject&#39;]
</span></span><span class=line><span class=cl>Tasks that were excluded: []
</span></span><span class=line><span class=cl>Resolve mutations for :initSpringBootProject (Thread[included builds,5,main]) started.
</span></span><span class=line><span class=cl>:initSpringBootProject (Thread[included builds,5,main]) started.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&gt; Task :initSpringBootProject
</span></span><span class=line><span class=cl>Build cache key for task &#39;:initSpringBootProject&#39; is 75b4d5a65d989aa6453584fe39baeab5
</span></span><span class=line><span class=cl>Task &#39;:initSpringBootProject&#39; is not up-to-date because:
</span></span><span class=line><span class=cl>  No history is available.
</span></span><span class=line><span class=cl>Downloading Spring Boot starter project...
</span></span><span class=line><span class=cl>Project downloaded to: /opt/my-projects/my-spring-boot-app/starter.zip
</span></span><span class=line><span class=cl>Project extracted to: /opt/my-projects/my-spring-boot-app/demo
</span></span><span class=line><span class=cl>Stored cache entry for task &#39;:initSpringBootProject&#39; with cache key 75b4d5a65d989aa6453584fe39baeab5
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>BUILD SUCCESSFUL in 12s
</span></span><span class=line><span class=cl>5 actionable tasks: 1 executed, 4 up-to-date
</span></span></code></pre></td></tr></table></div></div><p>On subsequent runs with the same <code>-PoutputDir</code> parameter:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>gradle initSpringBootProject -PoutputDir<span class=o>=</span>/opt/my-projects/my-spring-boot-app --console<span class=o>=</span>plain --info
</span></span></code></pre></td></tr></table></div></div><p>Since the outputs haven’t changed, you’ll see:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Task name matched &#39;initSpringBootProject&#39;
</span></span><span class=line><span class=cl>Selected primary task &#39;initSpringBootProject&#39; from project :
</span></span><span class=line><span class=cl>Tasks to be executed: [task &#39;:initSpringBootProject&#39;]
</span></span><span class=line><span class=cl>Tasks that were excluded: []
</span></span><span class=line><span class=cl>Resolve mutations for :initSpringBootProject (Thread[Execution worker Thread 4,5,main]) started.
</span></span><span class=line><span class=cl>:initSpringBootProject (Thread[Execution worker Thread 4,5,main]) started.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&gt; Task :initSpringBootProject UP-TO-DATE
</span></span><span class=line><span class=cl>Build cache key for task &#39;:initSpringBootProject&#39; is 75b4d5a65d989aa6453584fe39baeab5
</span></span><span class=line><span class=cl>Skipping task &#39;:initSpringBootProject&#39; as it is up-to-date.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>BUILD SUCCESSFUL in 383ms
</span></span><span class=line><span class=cl>5 actionable tasks: 5 up-to-date
</span></span></code></pre></td></tr></table></div></div><p>Which confirms that incremental build was used, marked with the <code>UP-TO-DATE</code> label.</p><h4 id=build-cache>Build cache</h4><p>If the file <code>/opt/my-projects/my-spring-boot-app/starter.zip</code> is deleted and the task is run again:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>gradle initSpringBootProject -PoutputDir<span class=o>=</span>/opt/my-projects/my-spring-boot-app --console<span class=o>=</span>plain --info
</span></span></code></pre></td></tr></table></div></div><p>Since the outputs were previously added to the local cache, the response will show:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Task name matched &#39;initSpringBootProject&#39;
</span></span><span class=line><span class=cl>Selected primary task &#39;initSpringBootProject&#39; from project :
</span></span><span class=line><span class=cl>Tasks to be executed: [task &#39;:initSpringBootProject&#39;]
</span></span><span class=line><span class=cl>Tasks that were excluded: []
</span></span><span class=line><span class=cl>Resolve mutations for :initSpringBootProject (Thread[included builds,5,main]) started.
</span></span><span class=line><span class=cl>:initSpringBootProject (Thread[included builds,5,main]) started.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&gt; Task :initSpringBootProject FROM-CACHE
</span></span><span class=line><span class=cl>Build cache key for task &#39;:initSpringBootProject&#39; is 75b4d5a65d989aa6453584fe39baeab5
</span></span><span class=line><span class=cl>Task &#39;:initSpringBootProject&#39; is not up-to-date because:
</span></span><span class=line><span class=cl>  Output property &#39;outputDir&#39; file /opt/my-projects/my-spring-boot-app has been removed.
</span></span><span class=line><span class=cl>  Output property &#39;outputDir&#39; file /opt/my-projects/my-spring-boot-app/demo has been removed.
</span></span><span class=line><span class=cl>  Output property &#39;outputDir&#39; file /opt/my-projects/my-spring-boot-app/demo/build.gradle has been removed.
</span></span><span class=line><span class=cl>  and more...
</span></span><span class=line><span class=cl>Loaded cache entry for task &#39;:initSpringBootProject&#39; with cache key 75b4d5a65d989aa6453584fe39baeab5
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>BUILD SUCCESSFUL in 416ms
</span></span><span class=line><span class=cl>5 actionable tasks: 1 from cache, 4 up-to-date
</span></span></code></pre></td></tr></table></div></div><p>This confirms that the local build cache was used, indicated by the <code>FROM-CACHE</code> label.</p><div class="details admonition success open"><div class="details-summary admonition-title"><i class="icon fas fa-check-circle fa-fw" aria-hidden=true></i>Lessons from the Gradle Build Cache path (DPE University<i class="details-icon fas fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content><p>While going through the <a href=https://dpeuniversity.gradle.com/app/learning_paths/b82f8dd7-d61e-450f-820e-3e719ef70bee target=_blank rel="noopener noreffer">Gradle Build Caching path</a> at <a href=https://dpeuniversity.gradle.com/app/catalog target=_blank rel="noopener noreffer">DPE University</a>, I became curious about how exactly the local build cache works and what actually goes inside it. I decided to break it down.</p><p>After running the <code>initSpringBootProject</code> task, the build cache key <code>75b4d5a65d989aa6453584fe39baeab5</code> stands out. That’s an archive located in <code>$GRADLE_USER_HOME/caches/build-cache-1</code>. When unpacked, you can see, among others, a <code>METADATA</code> file that contains:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-properties data-lang=properties><span class=line><span class=cl><span class=c1>#Generated origin information</span>
</span></span><span class=line><span class=cl><span class=c1>#Sun Jul 13 13:47:46 CEST 2025</span>
</span></span><span class=line><span class=cl><span class=na>executionTime</span><span class=o>=</span><span class=s>787</span>
</span></span><span class=line><span class=cl><span class=na>creationTime</span><span class=o>=</span><span class=s>1752677283570</span>
</span></span><span class=line><span class=cl><span class=na>identity</span><span class=o>=</span><span class=s>\:initSpringBootProject</span>
</span></span><span class=line><span class=cl><span class=na>buildInvocationId</span><span class=o>=</span><span class=s>b6ynyhegwjcl5ojld4csg2g7ee</span>
</span></span><span class=line><span class=cl><span class=na>buildCacheKey</span><span class=o>=</span><span class=s>75b4d5a65d989aa6453584fe39baeab5</span>
</span></span><span class=line><span class=cl><span class=na>type</span><span class=o>=</span><span class=s>org.gradle.api.internal.tasks.execution.TaskExecution</span>
</span></span><span class=line><span class=cl><span class=na>gradleVersion</span><span class=o>=</span><span class=s>8.14</span>
</span></span></code></pre></td></tr></table></div></div><p>In the <code>tree-outputDir/</code> folder there is the archived <code>starter.zip</code> file and the project folder — exactly what was previously downloaded from <a href=https://start.spring.io target=_blank rel="noopener noreffer">Spring Initializr</a> and saved as the task’s outputs.</p></div></div></div><p>For more on incremental build and Build Cache, see the official documentation:</p><p>👉 <a href=https://docs.gradle.org/9.0.0/userguide/incremental_build.html target=_blank rel="noopener noreffer">Incremental build</a>.</p><p>👉 <a href=https://docs.gradle.org/9.0.0/userguide/build_cache.html target=_blank rel="noopener noreffer">Build Cache</a>.</p><h3 id=interactive-mode>Interactive mode</h3><p>To preserve compatibility with incremental build and build cache, <code>upToDateWhen</code> and <code>cacheIf</code> were used accordingly.</p><hr><h2 id=production-readiness>Production readiness</h2><p>When building this plugin I wanted it to be <strong>ready for production use</strong> from day one. That means not just &ldquo;it works on my machine&rdquo;, but it is tested, validated, analyzable, and integrated with CI/CD.</p><h3 id=unit-tests>Unit tests</h3><p>Written in <a href=https://spockframework.org target=_blank rel="noopener noreffer">Spock</a>. They cover key functionalities such as parameter validation, building queries to <a href=https://start.spring.io target=_blank rel="noopener noreffer">Spring Initializr</a>, and extraction. In line with the testing pyramid, these are the most numerous tests in the project.</p><h3 id=functional-tests>Functional tests</h3><p>Also written in <a href=https://spockframework.org target=_blank rel="noopener noreffer">Spock</a>, this time using <a href=https://docs.gradle.org/9.0.0/userguide/test_kit.html target=_blank rel="noopener noreffer">Gradle TestKit</a>. In addition, I test JSON responses from <a href=https://start.spring.io target=_blank rel="noopener noreffer">Spring Initializr</a> with <a href=https://wiremock.org/ target=_blank rel="noopener noreffer">WireMock</a>, following the official <a href=https://docs.spring.io/initializr/docs/current/reference/html/#using-the-stubs target=_blank rel="noopener noreffer">documentation</a> recommended by the <a href=https://start.spring.io target=_blank rel="noopener noreffer">Spring Initializr</a> team.</p><div class="details admonition success open"><div class="details-summary admonition-title"><i class="icon fas fa-check-circle fa-fw" aria-hidden=true></i>Lessons from using TestKit in Spock<i class="details-icon fas fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content><p>At the beginning, while working on functional tests, I ran into a case described in the TestKit documentation in the section <a href=https://docs.gradle.org/9.0.0/userguide/test_kit.html#sec:controlling_the_build_environment target=_blank rel="noopener noreffer">Controlling the build environment</a>.</p><p>Even though the <code>initSpringBootProject</code> task executed successfully and in the logs I could see:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>&gt; Task :initSpringBootProject
</span></span><span class=line><span class=cl>Project downloaded to: /private/var/folders/lj/q3_9z0ws4ygb_bvng5vy2vs00000gn/T/spock_initSpringBootProje_0_testProjectDir13964729921630795147/build/generated-project/starter.zip
</span></span><span class=line><span class=cl>Project extracted to: /private/var/folders/lj/q3_9z0ws4ygb_bvng5vy2vs00000gn/T/spock_initSpringBootProje_0_testProjectDir13964729921630795147/build/generated-project/demo
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>BUILD SUCCESSFUL in 3s
</span></span><span class=line><span class=cl>1 actionable task: 1 executed
</span></span></code></pre></td></tr></table></div></div><p>The tests did not pass, and I was getting the following message in the logs:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Condition not satisfied:
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>FilesTestUtils.projectFilesExist unzipDir, &#39;build.gradle&#39;, &#39;src/main/java/com/example/demo/DemoApplication.java&#39;
</span></span><span class=line><span class=cl>|              |                 |
</span></span><span class=line><span class=cl>|              false             /var/folders/lj/q3_9z0ws4ygb_bvng5vy2vs00000gn/T/spock_initSpringBootProje_0_testProjectDir8148397175690448479/generated-project/demo
</span></span><span class=line><span class=cl>class io.oczadly.testsupport.FilesTestUtils
</span></span></code></pre></td></tr></table></div></div><p>The issue came from the fact that <a href=https://docs.gradle.org/9.0.0/userguide/test_kit.html target=_blank rel="noopener noreffer">Gradle TestKit</a> always runs the build in an isolated working directory inside <code>java.io.tmpdir</code> (e.g. <code>/private/var/folders/.../build/</code>), and not in the directory where I expected the files.</p><p>However, in the assertion (<code>generatedProjectDir.absolutePath</code>) it was looking for files in Spock’s temporary directory (<code>@TempDir</code>), which is a different location than the working directory used by <a href=https://docs.gradle.org/current/userguide/test_kit.html target=_blank rel="noopener noreffer">TestKit</a>.</p><p>I solved it by:</p><ul><li><i class="far fa-check-square fa-fw" aria-hidden=true></i> Setting <code>-PoutputDir=${generatedProjectDir.absolutePath}</code>, which forced the plugin to save files in the place expected by the test.</li></ul></div></div></div><h3 id=static-code-analysis>Static code analysis</h3><p>Every tool released for use should include a mechanism for static code analysis. In this case, the <a href=https://docs.gradle.org/9.0.0/userguide/codenarc_plugin.html target=_blank rel="noopener noreffer">CodeNarc plugin</a> was used, with a necessary set of rules useful for tools like <a href=https://gradle.org target=_blank rel="noopener noreffer">Gradle</a> plugins.</p><h3 id=test-coverage>Test coverage</h3><p>As mentioned earlier, <a href=https://plugins.gradle.org/plugin/io.oczadly.springinitializr target=_blank rel="noopener noreffer">gradle-springinitializr-plugin</a> is covered by both unit and functional tests. Coverage is measured using the <a href=https://docs.gradle.org/9.0.0/userguide/jacoco_plugin.html target=_blank rel="noopener noreffer">JaCoCo plugin</a>. It includes both types of tests and must exceed <strong>80%</strong>.</p><h3 id=continuous-integration>Continuous integration</h3><p>For continuous integration I used <a href=https://github.com/features/actions target=_blank rel="noopener noreffer">GitHub Actions</a>. On every PR, it verifies whether the commit follows <a href=https://www.conventionalcommits.org/en/v1.0.0/ target=_blank rel="noopener noreffer">Conventional Commits</a>. Then it runs <code>gradle build</code>, which checks the following:</p><ul><li>Code compilation</li><li>Unit and functional tests</li><li>Static code analysis</li><li>Test coverage</li></ul><h3 id=build-scan>Build Scan</h3><p>At the end of the CI process, a <a href=https://docs.gradle.org/9.0.0/userguide/build_scans.html target=_blank rel="noopener noreffer">Build Scan</a> is published to <a href=https://scans.gradle.com target=_blank rel="noopener noreffer">https://scans.gradle.com</a>. An example <a href=https://docs.gradle.org/9.0.0/userguide/build_scans.html target=_blank rel="noopener noreffer">Build Scan</a> from an execution can be found <a href=https://scans.gradle.com/s/6tu3f64xfst2q target=_blank rel="noopener noreffer">here</a>.</p><h3 id=compatibility-tests>Compatibility tests</h3><p>While building the plugin, it was important to ensure compatibility with multiple versions of <a href=https://gradle.org target=_blank rel="noopener noreffer">Gradle</a>, as well as both <a href=https://docs.gradle.org/9.0.0/userguide/kotlin_dsl.html target=_blank rel="noopener noreffer">Kotlin DSL</a> and <a href=https://docs.gradle.org/9.0.0/userguide/groovy_build_script_primer.html target=_blank rel="noopener noreffer">Groovy DSL</a>. That’s why on every PR, in addition to the previously mentioned steps, compatibility tests are run. They execute the <code>initSpringBootProject</code> task on different versions of <a href=https://gradle.org target=_blank rel="noopener noreffer">Gradle</a> using the following directories:</p><ul><li><code>examples/simple-groovy</code></li><li><code>examples/simple-kotlin</code></li></ul><p>All of this is possible thanks to the <a href=https://docs.github.com/en/actions/how-tos/write-workflows/choose-what-workflows-do/run-job-variations target=_blank rel="noopener noreffer">matrix strategy in GitHub Actions</a>. More about it can be found <a href=https://docs.github.com/en/actions/how-tos/write-workflows/choose-what-workflows-do/run-job-variations target=_blank rel="noopener noreffer">here</a>.</p><h3 id=continuous-delivery>Continuous delivery</h3><p>After the CI process described above, when a commit lands in <code>main</code>, <a href=https://github.com/features/actions target=_blank rel="noopener noreffer">GitHub Actions</a> triggers a workflow that uses <a href=https://semantic-release.gitbook.io/semantic-release/ target=_blank rel="noopener noreffer">semantic-release</a> to manage changes in <code>CHANGELOG.md</code>, create a new tag with a release in the repository, and publish the plugin to <a href=https://plugins.gradle.org/ target=_blank rel="noopener noreffer">Gradle - Plugins</a>.</p><hr><h2 id=summary>Summary</h2><p>While building <a href=https://plugins.gradle.org/plugin/io.oczadly.springinitializr target=_blank rel="noopener noreffer">gradle-springinitializr-plugin</a>, I not only enjoyed recreating <code>gradle init</code> for <a href=https://spring.io/projects/spring-boot target=_blank rel="noopener noreffer">Spring Boot</a>, going through <a href=https://dpeuniversity.gradle.com/app/catalog target=_blank rel="noopener noreffer">DPE University</a> courses, exploring the <a href=https://start.spring.io target=_blank rel="noopener noreffer">Spring Initializr</a> API, <a href=https://docs.gradle.org/9.0.0/userguide/best_practices_general.html target=_blank rel="noopener noreffer">Gradle best practices</a>, <a href=https://spockframework.org/spock/docs/1.0/spock_primer.html target=_blank rel="noopener noreffer">Spock</a> and <a href=https://groovy-lang.org/style-guide.html target=_blank rel="noopener noreffer">Groovy</a>. I am also fully satisfied with the final result. This is not just another sample plugin. It is a tool <strong>ready to use</strong> locally and as part of a platform — built consciously, solidly, and following the best patterns.</p><p>For Platform Engineers it’s a ready-to-use asset for the platform, for Software Engineers – a quick start in daily work, and for explorers – a practical reference for building Gradle plugins.</p><div class="details admonition example open"><div class="details-summary admonition-title"><i class="icon fas fa-list-ol fa-fw" aria-hidden=true></i>What’s next?<i class="details-icon fas fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content><p>Interested in contributing to the plugin?</p><p>👉 See how you can get involved by checking the <a href=https://github.com/paweloczadly/gradle-springinitializr-plugin/blob/main/CONTRIBUTING.md target=_blank rel="noopener noreffer">CONTRIBUTING</a> file.</p><p>Have an idea for a new feature or found a bug?</p><p>👉 Submit your idea or report an issue <a href=https://github.com/paweloczadly/gradle-springinitializr-plugin/issues target=_blank rel="noopener noreffer">here</a>.</p></div></div></div><div style="display:flex;align-items:center;justify-content:space-between;margin:24px 0;padding:16px;background:#f8f9fa;border-radius:8px"><span style=font-weight:500;color:#333>Do you like this blog and my work?</span>
<a href=https://coff.ee/paweloczadly target=_blank rel=noopener><img src=https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png alt="Buy Me A Coffee" style=height:40px></a></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2025-08-28</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://oczadly.io/posts/2025-08-28-gradle-init-for-spring-boot/ data-title="gradle init for Spring Boot"><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://oczadly.io/posts/2025-08-28-gradle-init-for-spring-boot/><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://oczadly.io/posts/2025-08-28-gradle-init-for-spring-boot/><i class="fab fa-linkedin fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/2025-07-05-starting-oczadly-io/ class=prev rel=prev title="Starting oczadly.io"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>Starting oczadly.io</a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2025</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>Paweł Oczadły</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>